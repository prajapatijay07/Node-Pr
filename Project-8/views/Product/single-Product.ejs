<%- include('../header') %>

<style>
  .product-card {
    background: #fff;
    border-radius: 14px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
    padding: 30px;
  }

  .product-image {
    width: 100%;
    height: 380px;
    object-fit: contain;
    border-radius: 12px;
    border: 1px solid #eee;
  }

  .price {
    font-size: 26px;
    font-weight: bold;
    color: #28a745;
  }

  .old-price {
    text-decoration: line-through;
    color: #888;
    margin-left: 10px;
  }

  .badge-custom {
    font-size: 14px;
    padding: 6px 12px;
    border-radius: 20px;
  }

  .detail-label {
    font-weight: 600;
    color: #555;
  }

  .detail-value {
    color: #333;
  }
</style>

<div class="page-wrapper">
  <div class="container-fluid">

    <!-- Breadcrumb -->
    <div class="page-breadcrumb mb-4">
      <div class="row">
        <div class="col-12 d-flex justify-content-between align-items-center">
          <h4 class="page-title">Product Details</h4>
          <a href="/Product/view-Product" class="btn btn-outline-secondary rounded-pill">
            ← Back to Products
          </a>
        </div>
      </div>
    </div>

    <!-- Product Card -->
    <div class="product-card">
      <div class="row">

        <!-- Image -->
        <div class="col-md-5 text-center">
          <img src="<%= product.productImage || '/default-image.jpg' %>" class="product-image">
        </div>

        <!-- Details -->
        <div class="col-md-7">
          <h3 class="mb-2"><%= product.productName %></h3>

          <div class="mb-3">
            <span class="price">₹ <%= product.price %></span>
            <% if (product.discount) { %>
              <span class="old-price">₹ <%= product.price + (product.price * product.discount / 100) %></span>
              <span class="badge bg-success badge-custom ms-2">
                <%= product.discount %>% OFF
              </span>
            <% } %>
          </div>

          <p class="mb-3"><%= product.description || 'No description available.' %></p>

          <hr>

          <div class="row mb-2">
            <div class="col-6">
              <span class="detail-label">Category:</span>
              <span class="detail-value"><%= product.categoryId?.category || 'N/A' %></span>
            </div>
            <div class="col-6">
              <span class="detail-label">Sub Category:</span>
              <span class="detail-value"><%= product.subCategoryId?.subCategory || 'N/A' %></span>
            </div>
          </div>

          <div class="row mb-2">
            <div class="col-6">
              <span class="detail-label">Extra Category:</span>
              <span class="detail-value"><%= product.extraCategoryId?.extraCategory || 'N/A' %></span>
            </div>
            <div class="col-6">
              <span class="detail-label">Brand:</span>
              <span class="detail-value"><%= product.brand || 'N/A' %></span>
            </div>
          </div>

          <div class="row mb-2">
            <div class="col-6">
              <span class="detail-label">Gender:</span>
              <span class="detail-value"><%= product.gender || 'N/A' %></span>
            </div>
            <div class="col-6">
              <span class="detail-label">Stock:</span>
              <span class="detail-value">
                <%= product.stock > 0 ? product.stock + ' Available' : 'Out of Stock' %>
              </span>
            </div>
          </div>

          <div class="row mb-4">
            <div class="col-6">
              <span class="detail-label">Rating:</span>
              <span class="detail-value"><%= product.rating || 0 %> / 5</span>
            </div>
          </div>

          <!-- Buttons -->
          <div class="d-flex gap-3">
            <a href="/Product/edit-Product/<%= product._id %>" class="btn btn-warning rounded-pill mr-2">
              Edit Product
            </a>
            <a href="/Product/delete-Product/<%= product._id %>"
               class="btn btn-danger rounded-pill"
               onclick="return confirm('Delete this product?')">
              Delete
            </a>
          </div>

        </div>
      </div>
    </div>

  </div>
</div>

<%- include('../footer') %>
